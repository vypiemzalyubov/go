# Домашнее задание — Тестирование приложения wallet

## Дано

На неделе мы:

- рассмотрели взаимодействие с БД при помощи Go
- спустились вниз по пирамиде тестирования и изучили компонентные тесты
- разобрали все виды мокирования

### Основное задание:

1. Покрыть ручки компонентно (не мокая базу).
2. Покрыть ручки, воспроизводя ошибки от БД, используя моки (gomock/minimock).
3. Протестировать повышение уровня идентификации старого пользователя. Для этого требуется обновить поле `created_at` одним из способов:
    - из тестов, сгенерированным клиентом при помощи `JET`
    - из сервиса, добавив бэкдор ручку и метод в имеющийся клиент к БД, меняющие поле `created_at`

### Дополнительное задание:
4. Покрыть ручку курса валют е2е тестами одним из способов:
    - inservice 
    - asservice 
    - mountbank

## Общие критерии приемки

### Обязательные задания

1. Решены 3 обязательных задания
2. Чистота кода
3. Корректность написанных тестов
4. Покрытие ручек не менее 90%, приложить файл cover.html

### Дополнительные задания

Есть е2е тесты на ручку `GetExchangeRates`:
- positive
- negative 

Для способов:
- mountbank: в `makefile` есть команда, запускающая `mountbank`, управляемый из тестов. Логика сервиса не тронута.
- asservice: в `makefile` есть команда, запускающая сервис-заглушку (сервис написан на `golang`). Логика сервиса не тронута.
- inservice: при передаче в docker-compose переменной среды `ENV == "test"` сервис запускается с моком (логика ответа определяется через метадату), код ручки и ЦБР клиента не тронуты.

При выставлении баллов учитывается чистота и правильность написанного кода.

### Дедлайны сдачи и проверки задания:
- 28 сентября 23:59 (сдача) / 01 октября, 23:59 (проверка)

